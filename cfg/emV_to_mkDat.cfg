# ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ----#
#                                                                 #
#         CONFIG FILE TO CREATE INPUTS TO mkDataCards             #
#                                                                 #
# ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ----#

[general]
sample = emV,emV,emV
#sample = WmV
outfolder = emV_1op
folder_prefix = to_Latinos_
outfile = histos.root
lumi = 138

[ntuples]

#folder = /eos/user/g/gboldrin/EFT_LHE/WV/SMHLOOP0/ntuples
folder = /eos/user/g/gboldrin/EFT_LHE/WV/EFT/ntuples

[eft]
# This secction suppose a naming convention as output from the D6EFTStudies lhe routine
# for example a file name is: ntuple_SSWW_cHW_QU.root. 
# "operators" is a list of op names such as cHW while "component" refer to QU for 
# quadratic while LI for the linear term, IN for interference or SM ( superseeds the op field). 
# * retireves every possible file.
# The "model" fields specifies the way in which histograms will be merged (e.g. SM+LI+QU etc)
#operators = [cHDD],[cHWB],[cHW],[cHbox],[cHl1],[cHl3],[cHq1],[cHq3],[cW],[cll1],[cqq11],[cqq1],[cqq31],[cqq3]
#operators = [cHDD]
operators = [cHj1],[cHbox],[cHWB],[cG],[cHB],[cHj3],[cHQ1],[cHQ3],[cHu],[cHWB],[cHW],[ctWRe],[cW]

models = EFT,EFTNeg,EFTNeg-alt
fitranges = cHj1:-20:20,cHbox:-20:20,cHWB:-20:20,cG:-20:20,cHB:-20:20,cHj3:-20:20,cHQ1:-20:20,cHQ3:-20:20,cHu:-20:20,cHWB:-20:20,cHW:-20:20,ctWRe:-20:20,cW:-20:20
fillMissing = 1

#cuts are under work
[cuts]
normalcuts = abs(mV-85)<15,detajj>3,mjj>300,met>30,ptl1>20,ptj1>30,ptj2>30,ptj4>30,ptj4>30,etaj1<5,etaj1>-5,etaj2<5,etaj2>-5,etaj3<5,etaj3>-5,etaj4<5,etaj4>-5,etal1<2.5,etal1>-2.5

[supercuts]
expr = -

[variables]
makeDummy = DATA
histonames = histo_WmV
external = variables/vars.py

treenames = mjj,detajj,dphijj,ptj1,ptj2,ptj3,ptj4,ptl1,met,mV
bins =  10,10,10,10,10,10,10,10,10,10
binsize = fix,fix,fix,log,log,log,log,log,log,fix
xrange = [300:3000],[3:8],[0:6.28],[0:500],[0:500],[0:500],[0:500],[0:500],[0:300],[60:100]
fold = 0

# This part generates some dummy files 
# in order to work with the Latinos framework.
# They should be edited and contain only minimal information.

[d_structure]
makeDummy = True

[d_samples]
name = []
weight = ''
weights = []
filesperjob = 2
makeDummy = True

[d_variables]
xaxis = "p_{T}^{j_{1}} [GeV]","p_{T}^{j_{1}} [GeV]","p_{T}^{j_{1}} [GeV]","p_{T}^{j_{1}} [GeV]","p_{T}^{j_{1}} [GeV]","p_{T}^{j_{1}} [GeV]","p_{T}^{j_{1}} [GeV]","p_{T}^{j_{1}} [GeV]","p_{T}^{j_{1}} [GeV]","p_{T}^{j_{1}} [GeV]"
name = auto
range = auto
fold = auto

makeDummy = True

[d_plot]
#group plots , name:options
#if "BSM" then group all BSM, else expects a list of samples names
#group = model:BSM,SM:[sm]
#g_colors = 400,851
group = all:all
isSignal = sm:0,DATA:0
#2D colors
colors = sm:921,lin:418:419,quad:617:618,sm_lin_quad:851:852,lin_mixed:100,sm_lin_quad_mixed:800,quad_mixed:752
#1D colors
#colors = sm:921,lin:418,quad:617
makeDummy = True

[d_alias]
makeDummy = True

[d_cuts]
makeDummy = True

[d_configuration]
tag = "WmV_cW_cHWB"
aliasesFile = auto
variablesFile = auto
cutsFile = auto
samplesFile = auto
plotFile = auto
lumi = 100
outputDirPlots = "plots"
outputDirDatacard = "datacards"
structureFile = auto
nuisancesFile = auto
makeDummy = True

[d_nuisances]
propagate = False
defname = lumi
name = lumi
#convention...
# FOr each nuisance you have to provide a sample list and a value
# they have to be in format [sample1:value1|sample2:value2|...] , [...]
# where the number of list equals the number of nuisances
#samples = [sm:1.02]
samples = [all:1.02]
types = lnN
makeDummy = True

